@model Amount
@using Nop.Plugin.Payments.AfterpayPayment
@inject ISettingService settingService
@{
    Layout = "";
}
@{
    var key = $"{nameof(AfterpayPaymentSettings)}.{nameof(AfterpayPaymentSettings.MinimumAmount)}";
    var minimum = settingService.GetSettingByKey<int>(key, 0);
    key = $"{nameof(AfterpayPaymentSettings)}.{nameof(AfterpayPaymentSettings.MaximumAmount)}";
    var maximum = settingService.GetSettingByKey<int>(key, 0);
}
<table width="100%" cellpadding="0" cellspacing="0">
    <tr>
        <td>
            <p><b>@T("Plugins.Payments.Afterpay.Fields.RedirectionTip")</b></p>
        </td>
    </tr>
</table>
<script src="https://js.afterpay.com/afterpay-1.x.js" data-min="@minimum"
        data-max="@maximum" async>
</script>
@if (!(float.Parse(Model.PaymentAmount) < minimum || float.Parse(Model.PaymentAmount) > maximum))
{
    
    <afterpay-placement data-type="price-table"
                        data-amount="@Model.PaymentAmount"
                        data-currency="@Model.Currency">

    </afterpay-placement>
}
